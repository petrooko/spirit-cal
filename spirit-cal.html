<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∏ —Å–ø–∏—Ä—Ç—É</title>

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<style>
:root{
  --bg:#07080a;
  --panel: rgba(255,255,255,0.02);
  --glass-border: rgba(255,255,255,0.04);
  --muted: rgba(230,240,250,0.35);
  --accent: #00d0ff;
  --accent-2:#55bfff;
  --danger: #ff5c5c;
  --radius: 18px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#05060a 0%, #09101a 100%);font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#eaf6fb;-webkit-font-smoothing:antialiased}
body{display:flex;align-items:center;justify-content:center;padding:0}

/* App shell */
.app {
  width:100%;
  height:100%;
  border-radius:0;
  padding:24px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
  box-shadow: inset 0 2px 0 rgba(255,255,255,0.02);
  border:none;
  position:relative;
  overflow:auto;
  display:flex;
  flex-direction:column;
}

/* header */
.header{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:18px;font-size:24px;font-weight:700}

/* tabs */
.tabs{display:flex;gap:12px;justify-content:center;margin-bottom:16px}
.tab{
  flex:1;text-align:center;
  padding:14px 0;border-radius:14px;cursor:pointer;color:var(--muted);font-weight:700;
  transition:all .2s ease;border:1px solid transparent;background:transparent;font-size:18px;
}
.tab.active{
  color:#eaf6fb;background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border:1px solid var(--glass-border);box-shadow:0 10px 30px rgba(0,200,255,0.06)
}

/* content */
.content{display:flex;flex-direction:column;gap:14px;flex:1;overflow:auto;padding-right:6px}

/* card / glass */
.card{
  border-radius:var(--radius);padding:20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
  border:1px solid var(--glass-border);box-shadow:0 12px 36px rgba(0,0,0,0.6);
  backdrop-filter: blur(14px) saturate(130%);
  display:flex;flex-direction:column;gap:14px;
}

/* labels & inputs */
label{display:block;color:var(--muted);font-size:16px;margin-bottom:8px}
input[type="number"]{
  width:100%;padding:18px 20px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);
  background: rgba(255,255,255,0.02);color:#eaf6fb;font-size:20px;
}
input::placeholder{color: rgba(230,240,250,0.2)}
input:focus{outline:none;box-shadow:0 14px 40px rgba(0,208,255,0.08);border-color:rgba(0,208,255,0.24)}

/* actions */
.row{display:flex;gap:12px;margin-top:16px}
.btn{
  flex:1;padding:18px;border-radius:14px;border:none;cursor:pointer;font-weight:800;color:#001528;
  background: linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:0 16px 48px rgba(0,208,255,0.08);
  transition: transform .12s ease, box-shadow .12s ease;font-size:20px;
}
.btn:active{transform:translateY(1px)}
.btn.ghost{
  background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);font-weight:700;font-size:18px
}
.btn.danger { background: linear-gradient(135deg,var(--danger), #ff8181); color:#200; box-shadow:0 14px 36px rgba(255,92,92,0.06) }

/* results */
.results{display:flex;flex-direction:column;gap:14px;margin-top:18px;flex-wrap:wrap}
.result-block{
  display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-radius:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.006));
  border:1px solid rgba(255,255,255,0.02);transform:translateY(10px);opacity:0;transition:all .42s cubic-bezier(.2,.9,.2,1);font-size:18px
}
.result-block.show{transform:translateY(0);opacity:1}
.r-label{color:var(--muted);font-size:16px}
.r-value{font-family:var(--mono);font-weight:800;color:#dff8ff;font-size:20px}

/* floating clear-all */
.fab{position:absolute;right:18px;bottom:18px;width:64px;height:64px;border-radius:16px;border:none;
  background: linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:0 20px 60px rgba(0,208,255,0.1);cursor:pointer}
</style>
</head>
<body>
<div class="app">

    <div class="header">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∏ —Å–ø–∏—Ä—Ç—É</div>

    <div class="tabs" role="tablist">
      <div class="tab active" id="tab-water" role="tab" onclick="switchTab('water')">üíß –í–æ–¥–∞</div>
      <div class="tab" id="tab-braga" role="tab" onclick="switchTab('braga')">üç∫ –ë—Ä–∞–≥–∞</div>
    </div>

    <div class="content" id="content">
      <!-- WATER -->
      <div id="water" class="screen">
        <div class="card" aria-labelledby="tab-water">
          <label for="w_A">–ü–æ—á–∞—Ç–∫–æ–≤–∞ –º—ñ—Ü–Ω—ñ—Å—Ç—å (%)</label>
          <input id="w_A" type="number" step="0.1" inputmode="decimal" placeholder="0">

          <label for="w_B">–ë–∞–∂–∞–Ω–∞ –º—ñ—Ü–Ω—ñ—Å—Ç—å (%)</label>
          <input id="w_B" type="number" step="0.1" inputmode="decimal" placeholder="0">

          <label for="w_V">–û–± º—î–º —Å–ø–∏—Ä—Ç—É (–ª)</label>
          <input id="w_V" type="number" step="0.01" inputmode="decimal" placeholder="0">

          <div class="row">
            <button class="btn" onclick="calculateWater()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
            <button class="btn ghost" onclick="clearWater()">–û—á–∏—Å—Ç–∏—Ç–∏</button>
          </div>

          <div class="results" id="water_results" aria-live="polite"></div>
        </div>
      </div>

      <!-- BRAGA -->
      <div id="braga" class="screen" style="display:none">
        <div class="card" aria-labelledby="tab-braga">
          <label for="og_pct">OG ‚Äî –ø–æ—á–∞—Ç–∫–æ–≤–∞ (–ê–¶-2, %)</label>
          <input id="og_pct" type="number" step="0.1" inputmode="decimal" placeholder="0">

          <label for="fg_pct">FG ‚Äî –∫—ñ–Ω—Ü–µ–≤–∞ (–ê–¶-2, %)</label>
          <input id="fg_pct" type="number" step="0.1" inputmode="decimal" placeholder="0">

          <label for="braga_V">–û–± º—î–º –±—Ä–∞–≥–∏ (–ª)</label>
          <input id="braga_V" type="number" step="0.01" inputmode="decimal" placeholder="0">

          <div class="row">
            <button class="btn" onclick="calculateBraga()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
            <button class="btn ghost" onclick="clearBraga()">–û—á–∏—Å—Ç–∏—Ç–∏</button>
          </div>

          <div class="results" id="braga_results" aria-live="polite"></div>
        </div>
      </div>
    </div>

    <button class="fab" title="–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ" onclick="clearAll()" aria-label="–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ">üßπ</button>

</div>

<script>
function switchTab(id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.screen').forEach(s=>s.style.display='none');
  document.getElementById('tab-' + id).classList.add('active');
  document.getElementById(id).style.display = 'block';
}

function animateValue(el, to, decimals=3, duration=700){
  const from = parseFloat(el.textContent) || 0;
  const start = performance.now();
  function frame(now){
    const t = Math.min(1, (now - start)/duration);
    const eased = 1 - Math.pow(1 - t, 3);
    const current = from + (to - from) * eased;
    el.textContent = Number(current).toFixed(decimals);
    if (t < 1) requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);
}

function pushResult(container, label, value, decimals=3, delay=0){
  const block = document.createElement('div');
  block.className = 'result-block';
  block.innerHTML = `<div class="r-label">${label}</div><div class="r-value">0.${'0'.repeat(decimals)}</div>`;
  container.appendChild(block);
  setTimeout(()=> block.classList.add('show'), 50 + delay);
  setTimeout(()=> {
    const v = block.querySelector('.r-value');
    animateValue(v, value, decimals);
    block.scrollIntoView({behavior:'smooth', block:'center'});
  }, 140 + delay);
  return block;
}

function clearWater(){document.getElementById('w_A').value='';document.getElementById('w_B').value='';document.getElementById('w_V').value='';document.getElementById('water_results').innerHTML='';}
function clearBraga(){document.getElementById('og_pct').value='';document.getElementById('fg_pct').value='';document.getElementById('braga_V').value='';document.getElementById('braga_results').innerHTML='';}
function clearAll(){clearWater(); clearBraga();}

/* WATER calculation */
function calculateWater(){
  const A = parseFloat(document.getElementById('w_A').value);
  const B = parseFloat(document.getElementById('w_B').value);
  const V = parseFloat(document.getElementById('w_V').value);
  const container = document.getElementById('water_results');
  container.innerHTML='';

  if (isNaN(A) || isNaN(B) || isNaN(V) || A <= 0 || B <= 0 || V <= 0 || B >= A){
    const err = document.createElement('div');
    err.className='result-block show';
    err.innerHTML = `<div class="r-label">–ü–æ–º–∏–ª–∫–∞</div><div class="r-value">–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è</div>`;
    container.appendChild(err);
    err.scrollIntoView({behavior:'smooth', block:'center'});
    return;
  }

  const water = V * (A / B - 1);
  const finalVol = V + water;
  const pure = V * (A/100);
  pushResult(container, '–î–æ–¥–∞—Ç–∏ –≤–æ–¥–∏ (–ª)', water, 3, 0);
  pushResult(container, '–ö—ñ–Ω—Ü–µ–≤–∏–π –æ–± º—î–º (–ª)', finalVol, 3, 120);
  pushResult(container, '–ß–∏—Å—Ç–∏–π —Å–ø–∏—Ä—Ç (–ª)', pure, 3, 240);
}

/* BRAGA calculation */
function calculateBraga(){
  const OG_pct = parseFloat(document.getElementById('og_pct').value);
  const FG_pct = parseFloat(document.getElementById('fg_pct').value);
  const V = parseFloat(document.getElementById('braga_V').value);
  const container = document.getElementById('braga_results');
  container.innerHTML='';

  if (isNaN(OG_pct) || isNaN(FG_pct) || isNaN(V) || OG_pct <= 0 || FG_pct < 0 || V <= 0 || OG_pct <= FG_pct){
    const err = document.createElement('div');
    err.className='result-block show';
    err.innerHTML = `<div class="r-label">–ü–æ–º–∏–ª–∫–∞</div><div class="r-value">–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è</div>`;
    container.appendChild(err);
    err.scrollIntoView({behavior:'smooth', block:'center'});
    return;
  }

  const OG = 1 + OG_pct / 258;
  const FG = 1 + FG_pct / 258;
  const ABV = (OG - FG) * 131.25;
  const abs = V * (ABV / 100);
  const s40 = abs / 0.40;
  const s43 = abs / 0.43;

  pushResult(container, 'ABV –±—Ä–∞–≥–∏ (%)', ABV, 3, 0);
  pushResult(container, '–ê–±—Å–æ–ª—é—Ç–Ω–∏–π —Å–ø–∏—Ä—Ç (–ª)', abs, 4, 120);
  pushResult(container, '–°–∏—Ä–µ—Ü—å 40% (–ª)', s40, 3, 240);
  pushResult(container, '–°–∏—Ä–µ—Ü—å 43% (–ª)', s43, 3, 360);
}
</script>
</body>
</html>